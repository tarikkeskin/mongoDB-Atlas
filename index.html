
<!DOCTYPE html>
<html>
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>Video Game Distribution Service</title>
    <link rel="stylesheet" href="./style.css" type="text/css"/>
    <script src="https://unpkg.com/realm-web@1.2.0/dist/bundle.iife.js"></script>


</head>

<body>

    <div class="login-form">
        <h2>Video Game Distribution Service</h2>

        <input type="text" id="name" class="input-name" placeholder="Username" >
        <h1></h1>    
        <button class="button" onclick="addUser()" value="addUser">Add</button>
        <button class="button" onclick="deleteUser()" value="deleteUser">Delete</button>
        <button class="button" onclick="login()" value="login">Login</button>
        

      
    </div>


    <script>
        const REALM_APP_ID = "ceng-495-games-twlxy"; // e.g. myapp-abcde
        const client = new Realm.App({ id: REALM_APP_ID }); // client object represent Realm App
    
    

        //const client = stitch.Stitch.initializeDefaultAppClient('hw2-app-kktvp');
        const db = client.getServiceClient(stitch.RemoteMongoClient.factory, 'mongodb-atlas').db('ceng495_hw2_db');
      
        client.login()
        client.auth.loginWithCredential(new stitch.AnonymousCredential()).then(user =>
          db.collection('users').find({owner_id: client.auth.user.id}, { limit: 100}).asArray()
        ).then(docs => {
            console.log("Connected to Stitch App")
        }).catch(err => {
          console.error(err)
        });
       
    
    </script>


</body>
</html>
